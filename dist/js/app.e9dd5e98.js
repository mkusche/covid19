(function(e){function t(t){for(var a,s,i=t[0],u=t[1],c=t[2],p=0,l=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&l.push(n[s][0]),n[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(l.length)l.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("483b"),r("aeed");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Covid19Map")],1)},o=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dx-card responsive-paddings"},[r("DxVectorMap",{ref:"vectorMap",attrs:{id:"vector-map",bounds:e.bounds},on:{click:e.markerClick}},[r("DxLayer",{attrs:{"data-source":e.mapsWorld,"hover-enabled":!1}}),r("DxLayer",{attrs:{"data-source":e.markers,"size-groups":e.sizeGroups,"min-size":5,"max-size":100,opacity:.8,name:"bubbles","element-type":"bubble",color:"#FF1100","data-field":"confirmed"}}),r("DxLayer",{attrs:{"data-source":e.markers,"size-groups":e.sizeGroups,"min-size":1,"max-size":100,opacity:.8,name:"bubbles","element-type":"bubble",color:"#149414","data-field":"recovered"}}),r("DxLayer",{attrs:{"data-source":e.markers,"size-groups":e.sizeGroups,"min-size":1,"max-size":100,opacity:.8,name:"bubbles",color:"#000000","element-type":"bubble","data-field":"deaths"}}),r("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":e.tooltipText}})],1),r("DxButton",{attrs:{id:"reset",text:"Reset"},on:{click:e.reset}})],1)},i=[],u=(r("7db0"),r("352a")),c=r("1157"),d=r.n(c),p=r("369b"),l=r.n(p),f=r("b761"),b=r("6191"),v=r("5097"),m=r.n(v),h={name:"Covid19Map",components:{DxVectorMap:f["DxVectorMap"],DxLayer:f["DxLayer"],DxTooltip:f["DxTooltip"],DxButton:b["DxButton"]},data:function(){return{markers:this.getDataSource(),mapsWorld:u["world"],bounds:[-180,85,180,-60],sizeGroups:this.getSizeGroups()}},methods:{getSizeGroups:function(){for(var e=[],t=0;t<11;t++)e.push(10*t);for(var r=1;r<11;r++)e.push(100*r);for(var a=1;a<101;a++)e.push(1e3*a);for(var n=1;n<101;n++)e.push(1e4*n);return e},getDataSource:function(){var e=new m.a({load:function(){var e=d.a.Deferred();return d.a.ajax({url:"https://api.github.com/repos/CSSEGISandData/COVID-19/contents/csse_covid_19_data/csse_covid_19_daily_reports",async:!1,success:function(t){var r=t[t.length-2];d.a.ajax({url:r.download_url,async:!1,success:function(t){for(var r=[],a=l.a.parse(t),n=function(){var t="US"===a.data[o][3]||"China"===a.data[o][3]||"Canada"===a.data[o][3]||"Australia"===a.data[o][3],n="";t?n=a.data[o][3]:(n=a.data[o][1]?a.data[o][1]+", ":"",n+=a.data[o][2]?a.data[o][2]+", ":"",n+=a.data[o][3]);var s=r.find((function(e){return e.attributes.region===n&&t}));if(s)s.attributes.confirmed+=parseInt(a.data[o][7]),s.attributes.recovered+=parseInt(a.data[o][9]),s.attributes.deaths+=parseInt(a.data[o][8]),s.attributes.active+=parseInt(a.data[o][10]);else{var i=parseFloat(a.data[o][5]),u=parseFloat(a.data[o][6]);"US"===n&&(i=39.5,u=-98.35),"Canada"===n&&(i=62.24,u=-96.4835),"China"===n&&(i=35.33,u=103.23),"Australia"===n&&(i=-23.7,u=132.8),isNaN(i)||r.push({coordinates:[u,i],attributes:{region:n,confirmed:parseInt(a.data[o][7]),recovered:parseInt(a.data[o][9]),deaths:parseInt(a.data[o][8]),active:parseInt(a.data[o][10])}})}e.resolve(r)},o=1;o<a.data.length-1;o++)n()}})}}),e.promise()}});return e},tooltipText:function(e){if("marker"===e.layer.type)return{text:"<b>"+e.attribute("region")+"</b><br />&nbsp;<br />Confirmed: "+e.attribute("confirmed")+"<br />Recovered: "+e.attribute("recovered")+"<br />Active: "+e.attribute("active")+"<br />Deaths: "+e.attribute("deaths")}},markerClick:function(e){e.target&&"marker"===e.target.layer.type&&e.component.center(e.target.coordinates()).zoomFactor(10)},reset:function(){var e=this.$refs.vectorMap.instance;e.center(null),e.zoomFactor(null)}}},y=h,x=(r("ed0b"),r("2877")),g=Object(x["a"])(y,s,i,!1,null,null,null),D=g.exports,z={name:"App",components:{Covid19Map:D}},_=z,k=Object(x["a"])(_,n,o,!1,null,null,null),w=k.exports;a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(w)}}).$mount("#app")},8128:function(e,t,r){},ed0b:function(e,t,r){"use strict";var a=r("8128"),n=r.n(a);n.a}});
//# sourceMappingURL=app.e9dd5e98.js.map